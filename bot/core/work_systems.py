"""
–°–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç—ã: —É—Å—Ç–∞–ª–æ—Å—Ç—å, –∑–∞–¥–∞–Ω–∏—è, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–í–ê–ñ–ù–û:
- –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å—Ç–∞–ª–æ—Å—Ç–∏ - –≤—ã–¥—Ä–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –æ–ø–ª–∞—Ç—É –∑–∞ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
- –£—Å—Ç–∞–ª–æ—Å—Ç—å –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑: —Å–æ–Ω, —Ö–æ–±–±–∏, –ø—Ä–æ—Å—Ç–æ–π (idle)
- –†–∞–∑–Ω—ã–µ —Ö–æ–±–±–∏ –¥–∞—é—Ç —Ä–∞–∑–Ω—ã–π –±–æ–Ω—É—Å –∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é
"""
from dataclasses import dataclass, field, asdict
from typing import Dict, List, Optional
from datetime import date, datetime, timedelta
from enum import Enum


class QuestType(Enum):
    """–¢–∏–ø –∑–∞–¥–∞–Ω–∏—è"""
    DAILY = "daily"  # –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ
    WEEKLY = "weekly"  # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ
    ACHIEVEMENT = "achievement"  # –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ)


class QuestStatus(Enum):
    """–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞–Ω–∏—è"""
    ACTIVE = "active"  # –ê–∫—Ç–∏–≤–Ω–æ
    COMPLETED = "completed"  # –í—ã–ø–æ–ª–Ω–µ–Ω–æ
    EXPIRED = "expired"  # –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ


@dataclass
class Quest:
    """–ó–∞–¥–∞–Ω–∏–µ/–∫–≤–µ—Å—Ç"""
    id: str
    type: QuestType
    title: str
    description: str
    target_value: int  # –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—á–∞—Å—ã, –¥–Ω–∏ –∏ —Ç.–¥.)
    current_value: int = 0  # –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
    reward_money: int = 0  # –ù–∞–≥—Ä–∞–¥–∞ –≤ –º–æ–Ω–µ—Ç–∞—Ö
    reward_happiness: int = 0  # –ù–∞–≥—Ä–∞–¥–∞ –≤ —Å—á–∞—Å—Ç—å–µ
    status: QuestStatus = QuestStatus.ACTIVE
    expires_at: Optional[str] = None  # ISO –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è
    completed_at: Optional[str] = None  # ISO –¥–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è


@dataclass
class Achievement:
    """–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ"""
    id: str
    title: str
    description: str
    icon: str = "üèÜ"
    unlocked_at: Optional[str] = None  # ISO –¥–∞—Ç–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏


@dataclass
class WorkStats:
    """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã"""
    total_hours: float = 0.0  # –í—Å–µ–≥–æ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ —á–∞—Å–æ–≤
    total_earnings: int = 0  # –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –º–æ–Ω–µ—Ç
    work_days: int = 0  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π
    longest_work_day: float = 0.0  # –°–∞–º—ã–π –¥–ª–∏–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å (—á–∞—Å—ã)
    current_streak: int = 0  # –¢–µ–∫—É—â–∞—è —Å–µ—Ä–∏—è —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
    best_streak: int = 0  # –õ—É—á—à–∞—è —Å–µ—Ä–∏—è —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π


@dataclass
class FatigueState:
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç–∞–ª–æ—Å—Ç–∏"""
    fatigue: int = 0  # 0-100, –≥–¥–µ 100 - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–ª–æ—Å—Ç—å
    last_fatigue_update: Optional[str] = None  # ISO –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    fatigue_recovery_rate: float = 2.0  # –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞ —á–∞—Å –æ—Ç–¥—ã—Ö–∞ (2 –µ–¥–∏–Ω–∏—Ü—ã/—á–∞—Å)


# ========== –°–ò–°–¢–ï–ú–ê –£–°–¢–ê–õ–û–°–¢–ò ==========

def calculate_fatigue_gain(work_hours: float) -> int:
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏—Ä–æ—Å—Ç —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –æ—Ç —Ä–∞–±–æ—Ç—ã.
    
    –§–æ—Ä–º—É–ª–∞:
    - –ü–µ—Ä–≤—ã–µ 2 —á–∞—Å–∞: 5 –µ–¥–∏–Ω–∏—Ü/—á–∞—Å (–ª–µ–≥–∫–∞—è —Ä–∞–±–æ—Ç–∞)
    - 2-4 —á–∞—Å–∞: 8 –µ–¥–∏–Ω–∏—Ü/—á–∞—Å (—Å—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞)
    - 4-6 —á–∞—Å–æ–≤: 12 –µ–¥–∏–Ω–∏—Ü/—á–∞—Å (–≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)
    - 6-8 —á–∞—Å–æ–≤: 18 –µ–¥–∏–Ω–∏—Ü/—á–∞—Å (–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è)
    - 8+ —á–∞—Å–æ–≤: 25 –µ–¥–∏–Ω–∏—Ü/—á–∞—Å (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è)
    
    –≠—Ç–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ä—ã–≤—ã –∏ –Ω–µ –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.
    """
    if work_hours <= 2:
        return int(work_hours * 5)
    elif work_hours <= 4:
        return int(2 * 5 + (work_hours - 2) * 8)
    elif work_hours <= 6:
        return int(2 * 5 + 2 * 8 + (work_hours - 4) * 12)
    elif work_hours <= 8:
        return int(2 * 5 + 2 * 8 + 2 * 12 + (work_hours - 6) * 18)
    else:
        return int(2 * 5 + 2 * 8 + 2 * 12 + 2 * 18 + (work_hours - 8) * 25)


def calculate_fatigue_recovery_sleep(sleep_hours: float, current_fatigue: int) -> int:
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è —Å–Ω–∞.
    
    –°–æ–Ω - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
    - 5 –µ–¥–∏–Ω–∏—Ü/—á–∞—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞ –Ω–æ—á—å
    """
    recovery_rate = 5.0  # –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤–æ —Å–Ω–µ
    recovered = int(sleep_hours * recovery_rate)
    return max(0, current_fatigue - recovered)


def calculate_fatigue_recovery_hobby(hobby_id: str, hobby_hours: float, current_fatigue: int) -> int:
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è —Ö–æ–±–±–∏.
    
    –†–∞–∑–Ω—ã–µ —Ö–æ–±–±–∏ –¥–∞—é—Ç —Ä–∞–∑–Ω—ã–π –±–æ–Ω—É—Å –∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é:
    - –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ (–±–µ–≥, –ø–ª–∞–≤–∞–Ω–∏–µ, –π–æ–≥–∞, –≤–µ–ª–æ—Å–ø–æ—Ä—Ç): 3 –µ–¥–∏–Ω–∏—Ü—ã/—á–∞—Å (–æ—Ç–ª–∏—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    - –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ (—Ä–∏—Å–æ–≤–∞–Ω–∏–µ, –º—É–∑—ã–∫–∞, –ø–∏—Å–∞—Ç–µ–ª—å—Å—Ç–≤–æ, —Ä—É–∫–æ–¥–µ–ª–∏–µ): 2 –µ–¥–∏–Ω–∏—Ü—ã/—á–∞—Å (—Ö–æ—Ä–æ—à–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    - –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ (–∫–∏–Ω–æ, –º—É–∑–µ–π, —Ç–µ–∞—Ç—Ä, –∫–æ–Ω—Ü–µ—Ä—Ç): 1.5 –µ–¥–∏–Ω–∏—Ü—ã/—á–∞—Å (–ª–µ–≥–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    - –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ö–æ–±–±–∏: 1 –µ–¥–∏–Ω–∏—Ü–∞/—á–∞—Å (–±–∞–∑–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    - –ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ –ø–∞—Ä–∫—É (walk): 2 –µ–¥–∏–Ω–∏—Ü—ã/—á–∞—Å (—Ö–æ—Ä–æ—à–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    """
    # –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ö–æ–±–±–∏ - –æ—Ç–ª–∏—á–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    sports_hobbies = ["running", "swimming", "yoga", "cycling", "gym", "tennis", "volleyball", "basketball", "football", "badminton"]
    # –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Ö–æ–±–±–∏ - —Ö–æ—Ä–æ—à–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    creative_hobbies = ["drawing", "writing", "music", "handicraft", "photography", "cooking"]
    # –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Ö–æ–±–±–∏ - –ª–µ–≥–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    entertainment_hobbies = ["cinema", "museum", "exhibition", "theater", "concert", "opera"]
    
    if hobby_id == "walk":
        recovery_rate = 2.0  # –ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ –ø–∞—Ä–∫—É
    elif hobby_id in sports_hobbies:
        recovery_rate = 3.0  # –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ö–æ–±–±–∏
    elif hobby_id in creative_hobbies:
        recovery_rate = 2.0  # –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Ö–æ–±–±–∏
    elif hobby_id in entertainment_hobbies:
        recovery_rate = 1.5  # –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Ö–æ–±–±–∏
    else:
        recovery_rate = 1.0  # –ë–∞–∑–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
    
    recovered = int(hobby_hours * recovery_rate)
    return max(0, current_fatigue - recovered)


def calculate_fatigue_recovery_idle(idle_hours: float, current_fatigue: int) -> int:
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–µ —Å–ø–∏—Ç, –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ö–æ–±–±–∏).
    
    –ü—Ä–æ—Å—Ç–æ–π - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
    - 0.5 –µ–¥–∏–Ω–∏—Ü—ã/—á–∞—Å (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
    - –≠—Ç–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ –æ—Ç–¥—ã—Ö–∞—Ç—å (—Å–æ–Ω, —Ö–æ–±–±–∏), –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
    """
    recovery_rate = 0.5  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    recovered = int(idle_hours * recovery_rate)
    return max(0, current_fatigue - recovered)


# –£–±—Ä–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è get_fatigue_penalty - –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å—Ç–∞–ª–æ—Å—Ç–∏
# –í—ã–¥—Ä–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –æ–ø–ª–∞—Ç—É –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—Ä–æ–≤–Ω—è —É—Å—Ç–∞–ª–æ—Å—Ç–∏


def get_fatigue_status_message(fatigue: int) -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —É—Å—Ç–∞–ª–æ—Å—Ç–∏"""
    if fatigue <= 20:
        return "–í—ã–¥—Ä–∞ –ø–æ–ª–Ω–∞ —Å–∏–ª –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üí™"
    elif fatigue <= 40:
        return "–í—ã–¥—Ä–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è —Ö–æ—Ä–æ—à–æ, –Ω–æ —É–∂–µ –Ω–µ–º–Ω–æ–≥–æ —É—Å—Ç–∞–ª–∞ üòä"
    elif fatigue <= 60:
        return "–í—ã–¥—Ä–∞ —É—Å—Ç–∞–ª–∞, —Å—Ç–æ–∏—Ç –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π —Ä–∞–±–æ—Ç–æ–π üò¥"
    elif fatigue <= 80:
        return "–í—ã–¥—Ä–∞ –æ—á–µ–Ω—å —É—Å—Ç–∞–ª–∞! –ù—É–∂–µ–Ω —Ö–æ—Ä–æ—à–∏–π –æ—Ç–¥—ã—Ö üõå"
    else:
        return "–í—ã–¥—Ä–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–ª–∞! –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –æ—Ç–¥—ã—Ö –∏ —Å–æ–Ω! ‚ö†Ô∏è"


# ========== –°–ò–°–¢–ï–ú–ê –ó–ê–î–ê–ù–ò–ô ==========

DAILY_QUESTS = [
    # –†–∞–±–æ—Ç–∞
    {
        "id": "work_2h",
        "title": "–†–∞–±–æ—á–∏–π –¥–µ–Ω—å",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 2 —á–∞—Å–∞",
        "target": 2,
        "reward_money": 15,
        "reward_happiness": 5,
    },
    {
        "id": "work_4h",
        "title": "–ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 4 —á–∞—Å–∞",
        "target": 4,
        "reward_money": 30,
        "reward_happiness": 10,
    },
    {
        "id": "work_6h",
        "title": "–¢—Ä—É–¥–æ–≥–æ–ª–∏–∫",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 6 —á–∞—Å–æ–≤",
        "target": 6,
        "reward_money": 50,
        "reward_happiness": 15,
    },
    {
        "id": "work_balance",
        "title": "–ë–∞–ª–∞–Ω—Å —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç–¥—ã—Ö–∞",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–æ–≤–Ω–æ 4-6 —á–∞—Å–æ–≤ (–Ω–µ –±–æ–ª—å—à–µ, –Ω–µ –º–µ–Ω—å—à–µ)",
        "target": 5,  # –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        "reward_money": 40,
        "reward_happiness": 20,
    },
    # –°–æ–Ω
    {
        "id": "sleep_7h",
        "title": "–ó–¥–æ—Ä–æ–≤—ã–π —Å–æ–Ω",
        "description": "–ü—Ä–æ—Å–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤",
        "target": 7,
        "reward_money": 20,
        "reward_happiness": 15,
    },
    {
        "id": "sleep_8h",
        "title": "–ò–¥–µ–∞–ª—å–Ω—ã–π —Å–æ–Ω",
        "description": "–ü—Ä–æ—Å–ø–∞—Ç—å 8+ —á–∞—Å–æ–≤",
        "target": 8,
        "reward_money": 30,
        "reward_happiness": 20,
    },
    {
        "id": "sleep_regular",
        "title": "–†–µ–∂–∏–º –¥–Ω—è",
        "description": "–õ–µ—á—å —Å–ø–∞—Ç—å –∏ –ø—Ä–æ—Å–Ω—É—Ç—å—Å—è –≤ –æ–¥–∏–Ω –¥–µ–Ω—å (–∑–∞–ø–∏—Å–∞—Ç—å –æ–±–∞ –¥–µ–π—Å—Ç–≤–∏—è)",
        "target": 1,  # –§–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        "reward_money": 15,
        "reward_happiness": 10,
    },
    # –í–æ–¥–∞
    {
        "id": "water_norm",
        "title": "–í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å",
        "description": "–í—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã (2.5–ª –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –Ω–æ—Ä–º—É)",
        "target": 1,  # –§–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        "reward_money": 25,
        "reward_happiness": 15,
    },
    {
        "id": "water_4glasses",
        "title": "–í–æ–¥–æ—Ö–ª—ë–±",
        "description": "–í—ã–ø–∏—Ç—å 4+ —Å—Ç–∞–∫–∞–Ω–∞ –≤–æ–¥—ã",
        "target": 4,
        "reward_money": 20,
        "reward_happiness": 10,
    },
    # –•–æ–±–±–∏
    {
        "id": "hobby_any",
        "title": "–í—Ä–µ–º—è –¥–ª—è —Å–µ–±—è",
        "description": "–ó–∞–Ω—è—Ç—å—Å—è –ª—é–±—ã–º —Ö–æ–±–±–∏",
        "target": 1,
        "reward_money": 10,
        "reward_happiness": 15,
    },
    {
        "id": "hobby_sport",
        "title": "–°–ø–æ—Ä—Ç—Å–º–µ–Ω",
        "description": "–ó–∞–Ω—è—Ç—å—Å—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º —Ö–æ–±–±–∏ (–±–µ–≥, –ø–ª–∞–≤–∞–Ω–∏–µ, –π–æ–≥–∞ –∏ —Ç.–¥.)",
        "target": 1,
        "reward_money": 15,
        "reward_happiness": 20,
    },
    # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
    {
        "id": "full_day",
        "title": "–ò–¥–µ–∞–ª—å–Ω—ã–π –¥–µ–Ω—å",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4+ —á–∞—Å–æ–≤, —Å–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤, –≤—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã",
        "target": 1,  # –§–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π
        "reward_money": 50,
        "reward_happiness": 30,
    },
    {
        "id": "work_and_hobby",
        "title": "–†–∞–±–æ—Ç–∞ –∏ –æ—Ç–¥—ã—Ö",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 4+ —á–∞—Å–æ–≤ –∏ –∑–∞–Ω—è—Ç—å—Å—è —Ö–æ–±–±–∏",
        "target": 1,
        "reward_money": 35,
        "reward_happiness": 25,
    },
    {
        "id": "care_pet",
        "title": "–ó–∞–±–æ—Ç–∞ –æ –≤—ã–¥—Ä–µ",
        "description": "–ù–∞–∫–æ—Ä–º–∏—Ç—å –≤—ã–¥—Ä—É 3 —Ä–∞–∑–∞ –∏ –¥–∞—Ç—å –≤–æ–¥—ã",
        "target": 1,
        "reward_money": 20,
        "reward_happiness": 20,
    },
]

WEEKLY_QUESTS = [
    # –†–∞–±–æ—Ç–∞
    {
        "id": "work_20h_week",
        "title": "–ù–µ–¥–µ–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 20 —á–∞—Å–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é",
        "target": 20,
        "reward_money": 100,
        "reward_happiness": 30,
    },
    {
        "id": "work_5days",
        "title": "–†–∞–±–æ—á–∞—è –Ω–µ–¥–µ–ª—è",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "target": 5,
        "reward_money": 150,
        "reward_happiness": 40,
    },
    {
        "id": "work_balance_week",
        "title": "–ó–¥–æ—Ä–æ–≤—ã–π –±–∞–ª–∞–Ω—Å",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4-6 —á–∞—Å–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (5 –¥–Ω–µ–π)",
        "target": 5,  # 5 –¥–Ω–µ–π
        "reward_money": 200,
        "reward_happiness": 50,
    },
    {
        "id": "work_30h_week",
        "title": "–¢—Ä—É–¥–æ–≤–∞—è –Ω–µ–¥–µ–ª—è",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 30+ —á–∞—Å–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é",
        "target": 30,
        "reward_money": 150,
        "reward_happiness": 35,
    },
    # –°–æ–Ω
    {
        "id": "sleep_7days",
        "title": "–†–µ–∂–∏–º —Å–Ω–∞",
        "description": "–°–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (7 –¥–Ω–µ–π)",
        "target": 7,
        "reward_money": 120,
        "reward_happiness": 40,
    },
    {
        "id": "sleep_50h_week",
        "title": "–í—ã—Å–ø–∞–≤—à–∞—è—Å—è –≤—ã–¥—Ä–∞",
        "description": "–ü—Ä–æ—Å–ø–∞—Ç—å 50+ —á–∞—Å–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é",
        "target": 50,
        "reward_money": 100,
        "reward_happiness": 35,
    },
    # –í–æ–¥–∞
    {
        "id": "water_week",
        "title": "–í–æ–¥–Ω–∞—è –Ω–µ–¥–µ–ª—è",
        "description": "–í—ã–ø–∏–≤–∞—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "target": 5,
        "reward_money": 80,
        "reward_happiness": 30,
    },
    {
        "id": "water_20l_week",
        "title": "–í–æ–¥–æ—Ö–ª—ë–± –Ω–µ–¥–µ–ª–∏",
        "description": "–í—ã–ø–∏—Ç—å 20+ –ª–∏—Ç—Ä–æ–≤ –≤–æ–¥—ã –∑–∞ –Ω–µ–¥–µ–ª—é",
        "target": 20,
        "reward_money": 90,
        "reward_happiness": 25,
    },
    # –•–æ–±–±–∏
    {
        "id": "hobby_7days",
        "title": "–•–æ–±–±–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Ö–æ–±–±–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (7 –¥–Ω–µ–π)",
        "target": 7,
        "reward_money": 110,
        "reward_happiness": 45,
    },
    {
        "id": "hobby_variety",
        "title": "–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è 3+ —Ä–∞–∑–Ω—ã–º–∏ —Ö–æ–±–±–∏ –∑–∞ –Ω–µ–¥–µ–ª—é",
        "target": 3,
        "reward_money": 70,
        "reward_happiness": 30,
    },
    # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
    {
        "id": "perfect_week",
        "title": "–ò–¥–µ–∞–ª—å–Ω–∞—è –Ω–µ–¥–µ–ª—è",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4+ —á–∞—Å–æ–≤, —Å–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤, –≤—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "target": 5,
        "reward_money": 250,
        "reward_happiness": 60,
    },
    {
        "id": "balance_master",
        "title": "–ú–∞—Å—Ç–µ—Ä –±–∞–ª–∞–Ω—Å–∞",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4-6 —á–∞—Å–æ–≤, —Å–ø–∞—Ç—å 7-9 —á–∞—Å–æ–≤, –≤—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "target": 5,
        "reward_money": 300,
        "reward_happiness": 70,
    },
]


def generate_daily_quests() -> List[Quest]:
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"""
    quests = []
    for quest_data in DAILY_QUESTS:
        quest = Quest(
            id=f"{quest_data['id']}_{date.today().isoformat()}",
            type=QuestType.DAILY,
            title=quest_data["title"],
            description=quest_data["description"],
            target_value=quest_data["target"],
            reward_money=quest_data["reward_money"],
            reward_happiness=quest_data["reward_happiness"],
            expires_at=(date.today() + timedelta(days=1)).isoformat(),
        )
        quests.append(quest)
    return quests


def generate_weekly_quests() -> List[Quest]:
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è"""
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏ (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)
    today = date.today()
    days_since_monday = today.weekday()
    week_start = today - timedelta(days=days_since_monday)
    
    quests = []
    for quest_data in WEEKLY_QUESTS:
        quest = Quest(
            id=f"{quest_data['id']}_{week_start.isoformat()}",
            type=QuestType.WEEKLY,
            title=quest_data["title"],
            description=quest_data["description"],
            target_value=quest_data["target"],
            reward_money=quest_data["reward_money"],
            reward_happiness=quest_data["reward_happiness"],
            expires_at=(week_start + timedelta(days=7)).isoformat(),
        )
        quests.append(quest)
    return quests


# ========== –°–ò–°–¢–ï–ú–ê –î–û–°–¢–ò–ñ–ï–ù–ò–ô ==========

ACHIEVEMENTS = [
    # –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏
    {
        "id": "first_work",
        "title": "–ü–µ—Ä–≤–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞",
        "description": "–í–ø–µ—Ä–≤—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—ã–¥—Ä—É –Ω–∞ —Ä–∞–±–æ—Ç—É",
        "icon": "üí∞",
    },
    {
        "id": "first_sleep",
        "title": "–ü–µ—Ä–≤–∞—è –Ω–æ—á—å",
        "description": "–í–ø–µ—Ä–≤—ã–µ —É–ª–æ–∂–∏—Ç—å –≤—ã–¥—Ä—É —Å–ø–∞—Ç—å",
        "icon": "üåô",
    },
    {
        "id": "first_water",
        "title": "–ü–µ—Ä–≤—ã–π –≥–ª–æ—Ç–æ–∫",
        "description": "–í–ø–µ—Ä–≤—ã–µ –¥–∞—Ç—å –≤—ã–¥—Ä–µ –≤–æ–¥—ã",
        "icon": "üíß",
    },
    {
        "id": "first_feed",
        "title": "–ü–µ—Ä–≤—ã–π –æ–±–µ–¥",
        "description": "–í–ø–µ—Ä–≤—ã–µ –Ω–∞–∫–æ—Ä–º–∏—Ç—å –≤—ã–¥—Ä—É",
        "icon": "üçΩÔ∏è",
    },
    {
        "id": "first_hobby",
        "title": "–ü–µ—Ä–≤–æ–µ —Ö–æ–±–±–∏",
        "description": "–í–ø–µ—Ä–≤—ã–µ –∑–∞–Ω—è—Ç—å—Å—è —Ö–æ–±–±–∏ —Å –≤—ã–¥—Ä–æ–π",
        "icon": "üé®",
    },
    # –†–∞–±–æ—Ç–∞ - —á–∞—Å—ã
    {
        "id": "work_10h",
        "title": "–¢—Ä—É–¥–æ–ª—é–±–∏–≤–∞—è –≤—ã–¥—Ä–∞",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 10 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üíº",
    },
    {
        "id": "work_50h",
        "title": "–û–ø—ã—Ç–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 50 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üëî",
    },
    {
        "id": "work_100h",
        "title": "–ú–∞—Å—Ç–µ—Ä —Ç—Ä—É–¥–∞",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 100 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üèÜ",
    },
    {
        "id": "work_250h",
        "title": "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 250 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üéØ",
    },
    {
        "id": "work_500h",
        "title": "–õ–µ–≥–µ–Ω–¥–∞ —Ç—Ä—É–¥–∞",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 500 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üëë",
    },
    {
        "id": "work_1000h",
        "title": "–¢–∏—Ç–∞–Ω —Ç—Ä—É–¥–∞",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 1000 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "‚ö°",
    },
    # –†–∞–±–æ—Ç–∞ - —Å–µ—Ä–∏–∏
    {
        "id": "work_3days",
        "title": "–¢—Ä–∏ –¥–Ω—è –ø–æ–¥—Ä—è–¥",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 3 –¥–Ω—è –ø–æ–¥—Ä—è–¥",
        "icon": "üìä",
    },
    {
        "id": "work_7days",
        "title": "–ù–µ–¥–µ–ª—è –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üìÖ",
    },
    {
        "id": "work_14days",
        "title": "–î–≤–µ –Ω–µ–¥–µ–ª–∏",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 14 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üìÜ",
    },
    {
        "id": "work_30days",
        "title": "–ú–µ—Å—è—Ü –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üóìÔ∏è",
    },
    {
        "id": "work_100days",
        "title": "–°—Ç–æ–ª–µ—Ç–∏–µ —Ç—Ä—É–¥–∞",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 100 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üíØ",
    },
    # –†–∞–±–æ—Ç–∞ - –∑–∞—Ä–∞–±–æ—Ç–æ–∫
    {
        "id": "work_earn_100",
        "title": "–ü–µ—Ä–≤–∞—è —Å–æ—Ç–Ω—è",
        "description": "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å 100 –º–æ–Ω–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ",
        "icon": "üí¥",
    },
    {
        "id": "work_earn_500",
        "title": "–ü—è—Ç—å—Å–æ—Ç –º–æ–Ω–µ—Ç",
        "description": "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å 500 –º–æ–Ω–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ",
        "icon": "üí∂",
    },
    {
        "id": "work_earn_1000",
        "title": "–¢—ã—Å—è—á–∞ –º–æ–Ω–µ—Ç",
        "description": "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å 1000 –º–æ–Ω–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ",
        "icon": "üíµ",
    },
    {
        "id": "work_earn_5000",
        "title": "–ü—è—Ç—å —Ç—ã—Å—è—á",
        "description": "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å 5000 –º–æ–Ω–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ",
        "icon": "üí∏",
    },
    {
        "id": "work_earn_10000",
        "title": "–î–µ—Å—è—Ç—å —Ç—ã—Å—è—á",
        "description": "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å 10000 –º–æ–Ω–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç–µ",
        "icon": "üíé",
    },
    # –†–∞–±–æ—Ç–∞ - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
    {
        "id": "work_balance",
        "title": "–ë–∞–ª–∞–Ω—Å",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å —Ä–æ–≤–Ω–æ 4-6 —á–∞—Å–æ–≤ 10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "‚öñÔ∏è",
    },
    {
        "id": "work_longest_day",
        "title": "–ú–∞—Ä–∞—Ñ–æ–Ω",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å 8+ —á–∞—Å–æ–≤ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å",
        "icon": "üèÉ",
    },
    {
        "id": "work_no_fatigue",
        "title": "–ñ–µ–ª–µ–∑–Ω–∞—è –≤—ã–¥—Ä–∞",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –±–µ–∑ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –≤—ã—à–µ 50",
        "icon": "ü¶æ",
    },
    {
        "id": "work_10h_day",
        "title": "–ú–∞–∫—Å–∏–º—É–º",
        "description": "–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–æ–≤–Ω–æ 10 —á–∞—Å–æ–≤ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å (–ª–∏–º–∏—Ç)",
        "icon": "üéØ",
    },
    # –°–æ–Ω
    {
        "id": "sleep_100h",
        "title": "–°–æ–Ω—è",
        "description": "–ü—Ä–æ—Å–ø–∞—Ç—å 100 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üò¥",
    },
    {
        "id": "sleep_500h",
        "title": "–°–ø—è—â–∞—è –∫—Ä–∞—Å–∞–≤–∏—Ü–∞",
        "description": "–ü—Ä–æ—Å–ø–∞—Ç—å 500 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üí§",
    },
    {
        "id": "sleep_1000h",
        "title": "–ú–∞—Å—Ç–µ—Ä —Å–Ω–∞",
        "description": "–ü—Ä–æ—Å–ø–∞—Ç—å 1000 —á–∞—Å–æ–≤ –≤—Å–µ–≥–æ",
        "icon": "üåô",
    },
    {
        "id": "sleep_7days",
        "title": "–†–µ–∂–∏–º —Å–Ω–∞",
        "description": "–°–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤ 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "‚è∞",
    },
    {
        "id": "sleep_8h_10days",
        "title": "–ò–¥–µ–∞–ª—å–Ω—ã–π —Å–æ–Ω",
        "description": "–°–ø–∞—Ç—å 8+ —á–∞—Å–æ–≤ 10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "‚ú®",
    },
    {
        "id": "sleep_regular_week",
        "title": "–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å",
        "description": "–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–æ–Ω (–ª–æ–∂–∏—Ç—å—Å—è –∏ –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è) 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üìù",
    },
    # –í–æ–¥–∞
    {
        "id": "water_100glasses",
        "title": "–í–æ–¥–æ—Ö–ª—ë–±",
        "description": "–í—ã–ø–∏—Ç—å 100 —Å—Ç–∞–∫–∞–Ω–æ–≤ –≤–æ–¥—ã –≤—Å–µ–≥–æ",
        "icon": "üíß",
    },
    {
        "id": "water_500glasses",
        "title": "–í–æ–¥—è–Ω–æ–π",
        "description": "–í—ã–ø–∏—Ç—å 500 —Å—Ç–∞–∫–∞–Ω–æ–≤ –≤–æ–¥—ã –≤—Å–µ–≥–æ",
        "icon": "üåä",
    },
    {
        "id": "water_1000glasses",
        "title": "–û–∫–µ–∞–Ω",
        "description": "–í—ã–ø–∏—Ç—å 1000 —Å—Ç–∞–∫–∞–Ω–æ–≤ –≤–æ–¥—ã –≤—Å–µ–≥–æ",
        "icon": "üåç",
    },
    {
        "id": "water_norm_7days",
        "title": "–í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å",
        "description": "–í—ã–ø–∏–≤–∞—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "‚öñÔ∏è",
    },
    {
        "id": "water_norm_30days",
        "title": "–í–æ–¥–Ω—ã–π –º–∞—Å—Ç–µ—Ä",
        "description": "–í—ã–ø–∏–≤–∞—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üèÜ",
    },
    # –•–æ–±–±–∏
    {
        "id": "hobby_10",
        "title": "–õ—é–±–∏—Ç–µ–ª—å —Ö–æ–±–±–∏",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Ö–æ–±–±–∏ 10 —Ä–∞–∑ –≤—Å–µ–≥–æ",
        "icon": "üé®",
    },
    {
        "id": "hobby_50",
        "title": "–≠–Ω—Ç—É–∑–∏–∞—Å—Ç",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Ö–æ–±–±–∏ 50 —Ä–∞–∑ –≤—Å–µ–≥–æ",
        "icon": "üé≠",
    },
    {
        "id": "hobby_100",
        "title": "–ú–∞—Å—Ç–µ—Ä —Ö–æ–±–±–∏",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Ö–æ–±–±–∏ 100 —Ä–∞–∑ –≤—Å–µ–≥–æ",
        "icon": "üé™",
    },
    {
        "id": "hobby_5types",
        "title": "–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è 5 —Ä–∞–∑–Ω—ã–º–∏ —Ö–æ–±–±–∏",
        "icon": "üåà",
    },
    {
        "id": "hobby_10types",
        "title": "–£–Ω–∏–≤–µ—Ä—Å–∞–ª",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è 10 —Ä–∞–∑–Ω—ã–º–∏ —Ö–æ–±–±–∏",
        "icon": "üåü",
    },
    {
        "id": "hobby_all",
        "title": "–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä",
        "description": "–ö—É–ø–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ö–æ–±–±–∏",
        "icon": "üíé",
    },
    {
        "id": "hobby_sport_20",
        "title": "–°–ø–æ—Ä—Ç—Å–º–µ–Ω",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º–∏ —Ö–æ–±–±–∏ 20 —Ä–∞–∑",
        "icon": "üèÉ",
    },
    {
        "id": "hobby_creative_20",
        "title": "–¢–≤–æ—Ä–µ—Ü",
        "description": "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Ç–≤–æ—Ä—á–µ—Å–∫–∏–º–∏ —Ö–æ–±–±–∏ 20 —Ä–∞–∑",
        "icon": "üé®",
    },
    # –ó–∞–±–æ—Ç–∞ –æ –≤—ã–¥—Ä–µ
    {
        "id": "feed_50",
        "title": "–ö–æ—Ä–º–∏–ª–µ—Ü",
        "description": "–ù–∞–∫–æ—Ä–º–∏—Ç—å –≤—ã–¥—Ä—É 50 —Ä–∞–∑",
        "icon": "üçΩÔ∏è",
    },
    {
        "id": "feed_100",
        "title": "–®–µ—Ñ-–ø–æ–≤–∞—Ä",
        "description": "–ù–∞–∫–æ—Ä–º–∏—Ç—å –≤—ã–¥—Ä—É 100 —Ä–∞–∑",
        "icon": "üë®‚Äçüç≥",
    },
    {
        "id": "water_50",
        "title": "–í–æ–¥–æ–Ω–æ—Å",
        "description": "–î–∞—Ç–∏ –≤–æ–¥—ã –≤—ã–¥—Ä–µ 50 —Ä–∞–∑",
        "icon": "üíß",
    },
    {
        "id": "water_100",
        "title": "–í–æ–¥–æ–ø—Ä–æ–≤–æ–¥—á–∏–∫",
        "description": "–î–∞—Ç–∏ –≤–æ–¥—ã –≤—ã–¥—Ä–µ 100 —Ä–∞–∑",
        "icon": "üö∞",
    },
    {
        "id": "care_100",
        "title": "–ó–∞–±–æ—Ç–ª–∏–≤—ã–π —Ö–æ–∑—è–∏–Ω",
        "description": "–ù–∞–∫–æ—Ä–º–∏—Ç—å –∏ –¥–∞—Ç—å –≤–æ–¥—ã –≤—ã–¥—Ä–µ 100 —Ä–∞–∑ –≤—Å–µ–≥–æ",
        "icon": "‚ù§Ô∏è",
    },
    {
        "id": "care_500",
        "title": "–ò–¥–µ–∞–ª—å–Ω—ã–π —Ö–æ–∑—è–∏–Ω",
        "description": "–ù–∞–∫–æ—Ä–º–∏—Ç—å –∏ –¥–∞—Ç—å –≤–æ–¥—ã –≤—ã–¥—Ä–µ 500 —Ä–∞–∑ –≤—Å–µ–≥–æ",
        "icon": "üíù",
    },
    # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
    {
        "id": "perfect_day",
        "title": "–ò–¥–µ–∞–ª—å–Ω—ã–π –¥–µ–Ω—å",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4+ —á–∞—Å–æ–≤, —Å–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤, –≤—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å",
        "icon": "‚≠ê",
    },
    {
        "id": "perfect_week",
        "title": "–ò–¥–µ–∞–ª—å–Ω–∞—è –Ω–µ–¥–µ–ª—è",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4+ —á–∞—Å–æ–≤, —Å–ø–∞—Ç—å 7+ —á–∞—Å–æ–≤, –≤—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üåü",
    },
    {
        "id": "balance_master",
        "title": "–ú–∞—Å—Ç–µ—Ä –±–∞–ª–∞–Ω—Å–∞",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4-6 —á–∞—Å–æ–≤, —Å–ø–∞—Ç—å 7-9 —á–∞—Å–æ–≤, –≤—ã–ø–∏—Ç—å –Ω–æ—Ä–º—É –≤–æ–¥—ã 10 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "‚öñÔ∏è",
    },
    {
        "id": "work_life_balance",
        "title": "Work-Life Balance",
        "description": "–†–∞–±–æ—Ç–∞—Ç—å 4+ —á–∞—Å–æ–≤ –∏ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Ö–æ–±–±–∏ 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üéØ",
    },
    # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ / –Æ–º–æ—Ä
    {
        "id": "pet_alive_100days",
        "title": "–í—ã–∂–∏–≤—à–∏–π",
        "description": "–í—ã–¥—Ä–∞ –ø—Ä–æ–∂–∏–ª–∞ 100 –¥–Ω–µ–π",
        "icon": "üéâ",
    },
    {
        "id": "pet_alive_365days",
        "title": "–ì–æ–¥ –≤–º–µ—Å—Ç–µ",
        "description": "–í—ã–¥—Ä–∞ –ø—Ä–æ–∂–∏–ª–∞ 365 –¥–Ω–µ–π",
        "icon": "üéä",
    },
    {
        "id": "happiness_100",
        "title": "–°—á–∞—Å—Ç—å–µ –Ω–∞ –º–∞–∫—Å–∏–º—É–º–µ",
        "description": "–î–æ–≤–µ—Å—Ç–∏ —Å—á–∞—Å—Ç—å–µ –≤—ã–¥—Ä—ã –¥–æ 100",
        "icon": "üòä",
    },
    {
        "id": "happiness_100_7days",
        "title": "–ù–µ–¥–µ–ª—è —Å—á–∞—Å—Ç—å—è",
        "description": "–î–µ—Ä–∂–∞—Ç—å —Å—á–∞—Å—Ç—å–µ –≤—ã–¥—Ä—ã –Ω–∞ 100 —Å–µ–º—å –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥",
        "icon": "üåà",
    },
    {
        "id": "money_10000",
        "title": "–ë–æ–≥–∞—á",
        "description": "–ù–∞–∫–æ–ø–∏—Ç—å 10000 –º–æ–Ω–µ—Ç",
        "icon": "üí∞",
    },
    {
        "id": "money_50000",
        "title": "–û–ª–∏–≥–∞—Ä—Ö",
        "description": "–ù–∞–∫–æ–ø–∏—Ç—å 50000 –º–æ–Ω–µ—Ç",
        "icon": "üíé",
    },
    {
        "id": "interaction_1000",
        "title": "–ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
        "description": "–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤—ã–¥—Ä–æ–π 1000 —Ä–∞–∑",
        "icon": "üëÜ",
    },
    {
        "id": "interaction_5000",
        "title": "–ù–µ—Ä–∞–∑–ª—É—á–Ω—ã–µ",
        "description": "–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤—ã–¥—Ä–æ–π 5000 —Ä–∞–∑",
        "icon": "ü§ù",
    },
]


def check_achievements(
    work_stats: WorkStats,
    fatigue: int,
    worked_hours_today: float,
    total_earnings: int,
    current_streak: int,
    unlocked_achievements: List[str],
) -> List[Achievement]:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫–∞–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã.
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.
    """
    new_achievements = []
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
    for ach_data in ACHIEVEMENTS:
        ach_id = ach_data["id"]
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —É–∂–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
        if ach_id in unlocked_achievements:
            continue
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è
        unlocked = False
        
        if ach_id == "first_work" and work_stats.work_days >= 1:
            unlocked = True
        elif ach_id == "work_10h" and work_stats.total_hours >= 10:
            unlocked = True
        elif ach_id == "work_50h" and work_stats.total_hours >= 50:
            unlocked = True
        elif ach_id == "work_100h" and work_stats.total_hours >= 100:
            unlocked = True
        elif ach_id == "work_500h" and work_stats.total_hours >= 500:
            unlocked = True
        elif ach_id == "work_7days" and current_streak >= 7:
            unlocked = True
        elif ach_id == "work_30days" and current_streak >= 30:
            unlocked = True
        elif ach_id == "work_earn_1000" and total_earnings >= 1000:
            unlocked = True
        elif ach_id == "work_earn_5000" and total_earnings >= 5000:
            unlocked = True
        elif ach_id == "work_longest_day" and worked_hours_today >= 8:
            unlocked = True
        # work_balance –∏ work_no_fatigue —Ç—Ä–µ–±—É—é—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
        # –∏ –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
        
        if unlocked:
            achievement = Achievement(
                id=ach_id,
                title=ach_data["title"],
                description=ach_data["description"],
                icon=ach_data["icon"],
                unlocked_at=date.today().isoformat(),
            )
            new_achievements.append(achievement)
    
    return new_achievements


# ========== –°–ò–°–¢–ï–ú–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==========

def get_work_notification_message(
    work_hours: float,
    fatigue: int,
    remaining_hours: float,
    is_work_start: bool = False,
) -> Optional[str]:
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–±–æ—Ç–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏.
    
    –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –£—Å—Ç–∞–ª–æ—Å—Ç—å –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã.
    –í—ã–¥—Ä–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–ª–æ–π –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞.
    """
    if is_work_start:
        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã
        # –í—ã–¥—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–ª–æ–π —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–ª–∞ —Ä–∞–Ω–µ–µ —Å–µ–≥–æ–¥–Ω—è
        # –ï—Å–ª–∏ —É—Å—Ç–∞–ª–æ—Å—Ç—å > 0, –∑–Ω–∞—á–∏—Ç –≤—ã–¥—Ä–∞ —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∞ —Å–µ–≥–æ–¥–Ω—è
        if fatigue > 70:
            return (
                "‚ö†Ô∏è –í—ã–¥—Ä–∞ –æ—á–µ–Ω—å —É—Å—Ç–∞–ª–∞ ({fatigue}%) –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–∞–±–æ—Ç—ã! "
                "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π —Ä–∞–±–æ—á–µ–π —Å–µ—Å—Å–∏–µ–π. "
                "–ó–∞–π–º–∏—Å—å —Ö–æ–±–±–∏ –∏–ª–∏ –¥–∞–π –≤—ã–¥—Ä–µ –ø–æ—Å–ø–∞—Ç—å –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è."
            ).format(fatigue=fatigue)
        elif fatigue > 50:
            return (
                "üí° –í—ã–¥—Ä–∞ –Ω–µ–º–Ω–æ–≥–æ —É—Å—Ç–∞–ª–∞ ({fatigue}%) –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ä–∞–±–æ—Ç—ã. "
                "–ú–æ–∂–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –Ω–æ –æ—Ç–¥—ã—Ö –ø–æ–º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–ª—ã –±—ã—Å—Ç—Ä–µ–µ."
            ).format(fatigue=fatigue)
        # –ï—Å–ª–∏ —É—Å—Ç–∞–ª–æ—Å—Ç—å <= 50, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –Ω—É–∂–Ω–æ - –≤—ã–¥—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
    else:
        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
        if work_hours >= 8:
            return (
                "‚è∞ –í—ã–¥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ {hours:.1f} —á–∞—Å–æ–≤! "
                "–≠—Ç–æ –æ—á–µ–Ω—å –¥–æ–ª–≥–æ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ä—ã–≤ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è."
            ).format(hours=work_hours)
        elif work_hours >= 6:
            return (
                "üíº –í—ã–¥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ {hours:.1f} —á–∞—Å–æ–≤. "
                "–ù–µ –∑–∞–±—É–¥—å –∑–∞–±—Ä–∞—Ç—å –µ—ë —Å —Ä–∞–±–æ—Ç—ã, –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—à—å!"
            ).format(hours=work_hours)
        
        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ª–∏–º–∏—Ç–µ
        if remaining_hours <= 0.5:
            return (
                "‚ö†Ô∏è –û—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω–µ–µ 30 –º–∏–Ω—É—Ç –¥–æ –ª–∏–º–∏—Ç–∞ —Ä–∞–±–æ—Ç—ã (10 —á–∞—Å–æ–≤/–¥–µ–Ω—å). "
                "–í—ã–¥—Ä–∞ —Å–∫–æ—Ä–æ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –º–∞–∫—Å–∏–º—É–º–∞!"
            )
    
    return None
